<div class="container" id="form-grid">

  <div class="dx-field">
    <div class="dx-field-label"></div>
    <div class="dx-field-value">
      <dx-button icon="plus"
                 text="Yeni Program Oluştur"
                 (onClick)="openCreateProgramPopUp()">
      </dx-button>
    </div>
  </div>

  <div class="card-body" style="padding: 3px;">
    <h2>Atanmış Egzersiz Programları</h2>
  </div>

  <dx-data-grid
    id="gridContainer"
    [dataSource]="assignedprogramList"
    [remoteOperations]="true"
    [showBorders]="true">

    <dxo-paging pageSize="15"></dxo-paging>

    <dxi-column dataField="startDate" caption="Başlangıç Tarihi" dataType="datetime"></dxi-column>
    <dxi-column dataField="finishDate" caption="Başlangıç Tarihi" dataType="datetime"></dxi-column>
    <dxi-column  dataField="(isProgramActive) ? 'Devam Ediyor...' : 'Tamamlandı!';" caption="Durum"></dxi-column>
    <dxi-column type="buttons" alignment="center"  width= '100px' >
      <dxi-button hint="Görüntüle" icon="fas fa-eye" [onClick]=""></dxi-button>
    </dxi-column>

  </dx-data-grid>
</div>

<dx-popup
  [width]="'85%'"
  [height]="'98%'"
  [showTitle]="true"
  [title]="'Program Oluştur'"
  [dragEnabled]="false"
  [closeOnOutsideClick]="true"
  [(visible)]="popUpVisible">

    <ng-template [ngIf]="stepperActiveBooleans['isDatePicikng']">
      <div style="padding: 1%; margin: 2%; background-color: white; border-radius:3px; height: 100%" class="dx-card">
        <b>
          <p>
            *Eklenen resmin/videonun, slayt olarak hastaya gösterilme sırasını düzenleyebilir ve eklenmiş dosyayı silebilirsiniz
          </p>
        </b>
        <div class="dx-fieldset">
          <div class="dx-field">
            <div class="dx-field-label">Başlangıç Tarihi</div>
            <div class="dx-field-value">
              <dx-date-box  [min]="now" [value]="startDate" type="date">
              </dx-date-box>
            </div>
          </div>
        </div>
      </div>
    </ng-template>

  <dx-scroll-view width="100%" height="98%">
    <ng-template [ngIf]="stepperActiveBooleans['isProgramCreationPicking']">
      <div style="padding: 1%; margin-top: 20px;margin-left: 20px;margin-right: 20px; background-color: white; border-radius:3px;" class="dx-card">
        <b>
          <p>
            *Eklenen resmin/videonun, slayt olarak hastaya gösterilme sırasını düzenleyebilir ve eklenmiş dosyayı silebilirsiniz
          </p>
        </b>

        <!-- [views]="views"-->
        <!-- Scheduler  -->
        <dx-scheduler
          timeZone="America/Los_Angeles"
          [dataSource]="appointmentsData"

         currentView="Auto Mode"
         [currentDate]="currentDate"
         [height]="650">
         <dxi-view
           name="Auto Mode"
           type="month"
           maxAppointmentsPerCell="auto">
         </dxi-view>
         <dxi-view
           name="Unlimited Mode"
           type="month"
           maxAppointmentsPerCell="unlimited">
         </dxi-view>
         <dxi-view
           name="Numeric Mode"
           type="month"
           [maxAppointmentsPerCell]="2">
         </dxi-view>
         <dxi-resource
           fieldExpr="roomId"
           label="room"
           [dataSource]="resourcesData"
         ></dxi-resource>
       </dx-scheduler>

     </div>
   </ng-template>
  </dx-scroll-view>

 <!-- Horizontal Steppers -->
  <div class="row">
    <div class="col-md-4"></div>
    <div class="col-md-4 ">
      <!-- Stepers Wrapper -->
      <ul class="stepper stepper-horizontal">
        <!-- First Step -->
        <li [class]="(stepperActiveBooleans['isDatePicikng']) ? 'active' : ''">
          <a disabled="true">
            <span class="circle">1</span>
          </a>
        </li>

        <!-- Second Step -->
        <li [class]="(stepperActiveBooleans['isProgramCreationPicking']) ? 'active' : ''">
          <a disabled="true">
            <span class="circle">2</span>
          </a>
        </li>
      </ul>
      <!-- /.Stepers Wrapper -->
    </div>
    <div class="col-md-4"></div>
  </div>
  <!-- /.Horizontal Steppers -->

  <ng-template [ngIf]="stepperActiveBooleans['isDatePicikng']">

    <dxi-toolbar-item
      widget="dxButton"
      toolbar= "bottom"
      alignment="right"
      location="after"

      [options]="nextButtonOption">
    </dxi-toolbar-item>
  </ng-template>

  <ng-template [ngIf]="stepperActiveBooleans['isProgramCreationPicking']">

    <dxi-toolbar-item
      widget="dxButton"
      toolbar= "bottom"
      alignment="right"
      location="after"

      [options]="nextButtonOption">
    </dxi-toolbar-item>


  </ng-template>

</dx-popup>

